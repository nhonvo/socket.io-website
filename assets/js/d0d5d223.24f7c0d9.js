"use strict";(self.webpackChunksample_website=self.webpackChunksample_website||[]).push([[2897],{5680:(e,t,n)=>{n.d(t,{xA:()=>u,yg:()=>v});var r=n(6540);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var s=r.createContext({}),c=function(e){var t=r.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):a(a({},t),e)),n},u=function(e){var t=c(e.components);return r.createElement(s.Provider,{value:t},e.children)},f="mdxType",p={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},d=r.forwardRef((function(e,t){var n=e.components,i=e.mdxType,o=e.originalType,s=e.parentName,u=l(e,["components","mdxType","originalType","parentName"]),f=c(n),d=i,v=f["".concat(s,".").concat(d)]||f[d]||p[d]||o;return n?r.createElement(v,a(a({ref:t},u),{},{components:n})):r.createElement(v,a({ref:t},u))}));function v(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var o=n.length,a=new Array(o);a[0]=d;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l[f]="string"==typeof e?e:i,a[1]=l;for(var c=2;c<o;c++)a[c]=n[c];return r.createElement.apply(null,a)}return r.createElement.apply(null,n)}d.displayName="MDXCreateElement"},7132:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>a,default:()=>p,frontMatter:()=>o,metadata:()=>l,toc:()=>c});var r=n(8168),i=(n(6540),n(5680));const o={title:"Offline behavior",sidebar_position:4,slug:"/client-offline-behavior/"},a=void 0,l={unversionedId:"categories/Client/client-offline-behavior",id:"version-3.x/categories/Client/client-offline-behavior",title:"Offline behavior",description:"Buffered events",source:"@site/versioned_docs/version-3.x/categories/03-Client/client-offline-behavior.md",sourceDirName:"categories/03-Client",slug:"/client-offline-behavior/",permalink:"/socket.io-website/docs/v3/client-offline-behavior/",draft:!1,editUrl:"https://github.com/socketio/socket.io-website/edit/main/versioned_docs/version-3.x/categories/03-Client/client-offline-behavior.md",tags:[],version:"3.x",lastUpdatedAt:1631600541,formattedLastUpdatedAt:"Sep 14, 2021",sidebarPosition:4,frontMatter:{title:"Offline behavior",sidebar_position:4,slug:"/client-offline-behavior/"},sidebar:"version-3.x/sidebar",previous:{title:"The Socket instance",permalink:"/socket.io-website/docs/v3/client-socket-instance/"},next:{title:"Emitting events",permalink:"/socket.io-website/docs/v3/emitting-events/"}},s={},c=[{value:"Buffered events",id:"buffered-events",level:2}],u={toc:c},f="wrapper";function p(e){let{components:t,...n}=e;return(0,i.yg)(f,(0,r.A)({},u,n,{components:t,mdxType:"MDXLayout"}),(0,i.yg)("h2",{id:"buffered-events"},"Buffered events"),(0,i.yg)("p",null,"By default, any event emitted while the Socket is not connected will be buffered until reconnection."),(0,i.yg)("p",null,"While useful in most cases (when the reconnection delay is short), it could result in a huge spike of events when the connection is restored.  "),(0,i.yg)("p",null,"There are several solutions to prevent this behavior, depending on your use case:"),(0,i.yg)("ul",null,(0,i.yg)("li",{parentName:"ul"},"use the ",(0,i.yg)("a",{parentName:"li",href:"/docs/v3/client-socket-instance/#Socket-connected"},"connected")," attribute of the Socket instance")),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre",className:"language-js"},"if (socket.connected) {\n  socket.emit( /* ... */ );\n} else {\n  // ...\n}\n")),(0,i.yg)("ul",null,(0,i.yg)("li",{parentName:"ul"},"use ",(0,i.yg)("a",{parentName:"li",href:"/docs/v3/emitting-events/#Volatile-events"},"volatile events"))),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre",className:"language-js"},"socket.volatile.emit( /* ... */ );\n")),(0,i.yg)("ul",null,(0,i.yg)("li",{parentName:"ul"},"empty the internal buffer upon reconnection")),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre",className:"language-js"},'socket.on("connect", () => {\n  socket.sendBuffer = [];\n});\n')))}p.isMDXComponent=!0}}]);