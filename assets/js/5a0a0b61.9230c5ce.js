"use strict";(self.webpackChunksample_website=self.webpackChunksample_website||[]).push([[1745],{5680:(e,n,t)=>{t.d(n,{xA:()=>g,yg:()=>y});var a=t(6540);function l(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function r(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function o(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?r(Object(t),!0).forEach((function(n){l(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):r(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function i(e,n){if(null==e)return{};var t,a,l=function(e,n){if(null==e)return{};var t,a,l={},r=Object.keys(e);for(a=0;a<r.length;a++)t=r[a],n.indexOf(t)>=0||(l[t]=e[t]);return l}(e,n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)t=r[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(l[t]=e[t])}return l}var s=a.createContext({}),p=function(e){var n=a.useContext(s),t=n;return e&&(t="function"==typeof e?e(n):o(o({},n),e)),t},g=function(e){var n=p(e.components);return a.createElement(s.Provider,{value:n},e.children)},c="mdxType",m={inlineCode:"code",wrapper:function(e){var n=e.children;return a.createElement(a.Fragment,{},n)}},d=a.forwardRef((function(e,n){var t=e.components,l=e.mdxType,r=e.originalType,s=e.parentName,g=i(e,["components","mdxType","originalType","parentName"]),c=p(t),d=l,y=c["".concat(s,".").concat(d)]||c[d]||m[d]||r;return t?a.createElement(y,o(o({ref:n},g),{},{components:t})):a.createElement(y,o({ref:n},g))}));function y(e,n){var t=arguments,l=n&&n.mdxType;if("string"==typeof e||l){var r=t.length,o=new Array(r);o[0]=d;var i={};for(var s in n)hasOwnProperty.call(n,s)&&(i[s]=n[s]);i.originalType=e,i[c]="string"==typeof e?e:l,o[1]=i;for(var p=2;p<r;p++)o[p]=t[p];return a.createElement.apply(null,o)}return a.createElement.apply(null,t)}d.displayName="MDXCreateElement"},4487:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>s,contentTitle:()=>o,default:()=>m,frontMatter:()=>r,metadata:()=>i,toc:()=>p});var a=t(8168),l=(t(6540),t(5680));const r={title:"Server API",sidebar_label:"API",slug:"/server-api/"},o=void 0,i={unversionedId:"server-api",id:"version-3.x/server-api",title:"Server API",description:"Server",source:"@site/versioned_docs/version-3.x/server-api.md",sourceDirName:".",slug:"/server-api/",permalink:"/socket.io-website/docs/v3/server-api/",draft:!1,editUrl:"https://github.com/socketio/socket.io-website/edit/main/versioned_docs/version-3.x/server-api.md",tags:[],version:"3.x",lastUpdatedAt:1673088133,formattedLastUpdatedAt:"Jan 7, 2023",frontMatter:{title:"Server API",sidebar_label:"API",slug:"/server-api/"},sidebar:"version-3.x/serverSidebar"},s={},p=[{value:"Server",id:"server",level:2},{value:"new Server(httpServer, options)",id:"new-serverhttpserver-options",level:3},{value:"new Server(port, options)",id:"new-serverport-options",level:3},{value:"new Server(options)",id:"new-serveroptions",level:3},{value:"server.sockets",id:"serversockets",level:3},{value:"server.serveClient(value)",id:"serverserveclientvalue",level:3},{value:"server.path(value)",id:"serverpathvalue",level:3},{value:"server.adapter(value)",id:"serveradaptervalue",level:3},{value:"server.attach(httpServer, options)",id:"serverattachhttpserver-options",level:3},{value:"server.attach(port, options)",id:"serverattachport-options",level:3},{value:"server.listen(httpServer, options)",id:"serverlistenhttpserver-options",level:3},{value:"server.listen(port, options)",id:"serverlistenport-options",level:3},{value:"server.bind(engine)",id:"serverbindengine",level:3},{value:"server.onconnection(socket)",id:"serveronconnectionsocket",level:3},{value:"server.of(nsp)",id:"serverofnsp",level:3},{value:"server.close(callback)",id:"serverclosecallback",level:3},{value:"server.engine.generateId",id:"serverenginegenerateid",level:3},{value:"Namespace",id:"namespace",level:2},{value:"namespace.name",id:"namespacename",level:3},{value:"namespace.sockets",id:"namespacesockets",level:3},{value:"namespace.adapter",id:"namespaceadapter",level:3},{value:"namespace.to(room)",id:"namespacetoroom",level:3},{value:"namespace.in(room)",id:"namespaceinroom",level:3},{value:"namespace.emit(eventName, ...args)",id:"namespaceemiteventname-args",level:3},{value:"namespace.allSockets()",id:"namespaceallsockets",level:3},{value:"namespace.use(fn)",id:"namespaceusefn",level:3},{value:"Event: &#39;connection&#39;",id:"event-connection",level:3},{value:"Event: &#39;connect&#39;",id:"event-connect",level:3},{value:"Flag: &#39;volatile&#39;",id:"flag-volatile",level:3},{value:"Flag: &#39;local&#39;",id:"flag-local",level:3},{value:"Socket",id:"socket",level:2},{value:"socket.id",id:"socketid",level:3},{value:"socket.rooms",id:"socketrooms",level:3},{value:"socket.client",id:"socketclient",level:3},{value:"socket.conn",id:"socketconn",level:3},{value:"socket.request",id:"socketrequest",level:3},{value:"socket.handshake",id:"sockethandshake",level:3},{value:"socket.use(fn)",id:"socketusefn",level:3},{value:"socket.send(...args)",id:"socketsendargs",level:3},{value:"socket.emit(eventName, ...args)",id:"socketemiteventname-args",level:3},{value:"socket.on(eventName, callback)",id:"socketoneventname-callback",level:3},{value:"socket.once(eventName, listener)",id:"socketonceeventname-listener",level:3},{value:"socket.removeListener(eventName, listener)",id:"socketremovelistenereventname-listener",level:3},{value:"socket.removeAllListeners(eventName)",id:"socketremovealllistenerseventname",level:3},{value:"socket.eventNames()",id:"socketeventnames",level:3},{value:"socket.onAny(callback)",id:"socketonanycallback",level:3},{value:"socket.prependAny(callback)",id:"socketprependanycallback",level:3},{value:"socket.offAny(listener)",id:"socketoffanylistener",level:3},{value:"socket.listenersAny()",id:"socketlistenersany",level:3},{value:"socket.join(room)",id:"socketjoinroom",level:3},{value:"socket.leave(room)",id:"socketleaveroom",level:3},{value:"socket.to(room)",id:"sockettoroom",level:3},{value:"socket.in(room)",id:"socketinroom",level:3},{value:"socket.compress(value)",id:"socketcompressvalue",level:3},{value:"socket.disconnect(close)",id:"socketdisconnectclose",level:3},{value:"Flag: &#39;broadcast&#39;",id:"flag-broadcast",level:3},{value:"Flag: &#39;volatile&#39;",id:"flag-volatile-1",level:3},{value:"Event: &#39;disconnect&#39;",id:"event-disconnect",level:3},{value:"Event: &#39;disconnecting&#39;",id:"event-disconnecting",level:3},{value:"Client",id:"client",level:2},{value:"client.conn",id:"clientconn",level:3},{value:"client.request",id:"clientrequest",level:3}],g={toc:p},c="wrapper";function m(e){let{components:n,...t}=e;return(0,l.yg)(c,(0,a.A)({},g,t,{components:n,mdxType:"MDXLayout"}),(0,l.yg)("h2",{id:"server"},"Server"),(0,l.yg)("p",null,"Exposed by ",(0,l.yg)("inlineCode",{parentName:"p"},'require("socket.io")'),"."),(0,l.yg)("p",null,"Related documentation pages:"),(0,l.yg)("ul",null,(0,l.yg)("li",{parentName:"ul"},(0,l.yg)("a",{parentName:"li",href:"/docs/v3/server-installation/"},"installation")),(0,l.yg)("li",{parentName:"ul"},(0,l.yg)("a",{parentName:"li",href:"/docs/v3/server-initialization/"},"initialization")),(0,l.yg)("li",{parentName:"ul"},(0,l.yg)("a",{parentName:"li",href:"/docs/v3/server-instance/"},"details of the server instance"))),(0,l.yg)("h3",{id:"new-serverhttpserver-options"},"new Server(httpServer","[, options]",")"),(0,l.yg)("ul",null,(0,l.yg)("li",{parentName:"ul"},(0,l.yg)("inlineCode",{parentName:"li"},"httpServer")," ",(0,l.yg)("em",{parentName:"li"},"(http.Server)")," the server to bind to."),(0,l.yg)("li",{parentName:"ul"},(0,l.yg)("inlineCode",{parentName:"li"},"options")," ",(0,l.yg)("em",{parentName:"li"},"(Object)"))),(0,l.yg)("p",null,"Works with and without ",(0,l.yg)("inlineCode",{parentName:"p"},"new"),":"),(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre",className:"language-js"},'const io = require("socket.io")();\n// or\nconst { Server } = require("socket.io");\nconst io = new Server();\n')),(0,l.yg)("p",null,"Available options:"),(0,l.yg)("table",null,(0,l.yg)("thead",{parentName:"table"},(0,l.yg)("tr",{parentName:"thead"},(0,l.yg)("th",{parentName:"tr",align:null},"Option"),(0,l.yg)("th",{parentName:"tr",align:null},"Default value"),(0,l.yg)("th",{parentName:"tr",align:null},"Description"))),(0,l.yg)("tbody",{parentName:"table"},(0,l.yg)("tr",{parentName:"tbody"},(0,l.yg)("td",{parentName:"tr",align:null},(0,l.yg)("inlineCode",{parentName:"td"},"path")),(0,l.yg)("td",{parentName:"tr",align:null},(0,l.yg)("inlineCode",{parentName:"td"},"/socket.io")),(0,l.yg)("td",{parentName:"tr",align:null},"name of the path to capture")),(0,l.yg)("tr",{parentName:"tbody"},(0,l.yg)("td",{parentName:"tr",align:null},(0,l.yg)("inlineCode",{parentName:"td"},"serveClient")),(0,l.yg)("td",{parentName:"tr",align:null},(0,l.yg)("inlineCode",{parentName:"td"},"true")),(0,l.yg)("td",{parentName:"tr",align:null},"whether to serve the client files")),(0,l.yg)("tr",{parentName:"tbody"},(0,l.yg)("td",{parentName:"tr",align:null},(0,l.yg)("inlineCode",{parentName:"td"},"adapter")),(0,l.yg)("td",{parentName:"tr",align:null},"-"),(0,l.yg)("td",{parentName:"tr",align:null},"the adapter to use. Defaults to an instance of the ",(0,l.yg)("inlineCode",{parentName:"td"},"Adapter")," that ships with socket.io which is memory based. See ",(0,l.yg)("a",{parentName:"td",href:"https://github.com/socketio/socket.io-adapter"},"socket.io-adapter"))),(0,l.yg)("tr",{parentName:"tbody"},(0,l.yg)("td",{parentName:"tr",align:null},(0,l.yg)("inlineCode",{parentName:"td"},"parser")),(0,l.yg)("td",{parentName:"tr",align:null},"-"),(0,l.yg)("td",{parentName:"tr",align:null},"the parser to use. Defaults to an instance of the ",(0,l.yg)("inlineCode",{parentName:"td"},"Parser")," that ships with socket.io. See ",(0,l.yg)("a",{parentName:"td",href:"https://github.com/socketio/socket.io-parser"},"socket.io-parser"),".")),(0,l.yg)("tr",{parentName:"tbody"},(0,l.yg)("td",{parentName:"tr",align:null},(0,l.yg)("inlineCode",{parentName:"td"},"connectTimeout")),(0,l.yg)("td",{parentName:"tr",align:null},(0,l.yg)("inlineCode",{parentName:"td"},"45000")),(0,l.yg)("td",{parentName:"tr",align:null},"the number of ms before closing a client that has not successfully joined a namespace.")))),(0,l.yg)("p",null,"Available options for the underlying Engine.IO server:"),(0,l.yg)("table",null,(0,l.yg)("thead",{parentName:"table"},(0,l.yg)("tr",{parentName:"thead"},(0,l.yg)("th",{parentName:"tr",align:null},"Option"),(0,l.yg)("th",{parentName:"tr",align:null},"Default value"),(0,l.yg)("th",{parentName:"tr",align:null},"Description"))),(0,l.yg)("tbody",{parentName:"table"},(0,l.yg)("tr",{parentName:"tbody"},(0,l.yg)("td",{parentName:"tr",align:null},(0,l.yg)("inlineCode",{parentName:"td"},"pingTimeout")),(0,l.yg)("td",{parentName:"tr",align:null},(0,l.yg)("inlineCode",{parentName:"td"},"5000")),(0,l.yg)("td",{parentName:"tr",align:null},"how many ms without a pong packet to consider the connection closed")),(0,l.yg)("tr",{parentName:"tbody"},(0,l.yg)("td",{parentName:"tr",align:null},(0,l.yg)("inlineCode",{parentName:"td"},"pingInterval")),(0,l.yg)("td",{parentName:"tr",align:null},(0,l.yg)("inlineCode",{parentName:"td"},"25000")),(0,l.yg)("td",{parentName:"tr",align:null},"how many ms before sending a new ping packet")),(0,l.yg)("tr",{parentName:"tbody"},(0,l.yg)("td",{parentName:"tr",align:null},(0,l.yg)("inlineCode",{parentName:"td"},"upgradeTimeout")),(0,l.yg)("td",{parentName:"tr",align:null},(0,l.yg)("inlineCode",{parentName:"td"},"10000")),(0,l.yg)("td",{parentName:"tr",align:null},"how many ms before an uncompleted transport upgrade is cancelled")),(0,l.yg)("tr",{parentName:"tbody"},(0,l.yg)("td",{parentName:"tr",align:null},(0,l.yg)("inlineCode",{parentName:"td"},"maxHttpBufferSize")),(0,l.yg)("td",{parentName:"tr",align:null},(0,l.yg)("inlineCode",{parentName:"td"},"1e6")),(0,l.yg)("td",{parentName:"tr",align:null},"how many bytes or characters a message can be, before closing the session (to avoid DoS).")),(0,l.yg)("tr",{parentName:"tbody"},(0,l.yg)("td",{parentName:"tr",align:null},(0,l.yg)("inlineCode",{parentName:"td"},"allowRequest")),(0,l.yg)("td",{parentName:"tr",align:null}),(0,l.yg)("td",{parentName:"tr",align:null},"A function that receives a given handshake or upgrade request as its first parameter, and can decide whether to continue or not. The second argument is a function that needs to be called with the decided information: ",(0,l.yg)("inlineCode",{parentName:"td"},"fn(err, success)"),", where ",(0,l.yg)("inlineCode",{parentName:"td"},"success")," is a boolean value where false means that the request is rejected, and err is an error code.")),(0,l.yg)("tr",{parentName:"tbody"},(0,l.yg)("td",{parentName:"tr",align:null},(0,l.yg)("inlineCode",{parentName:"td"},"transports")),(0,l.yg)("td",{parentName:"tr",align:null},(0,l.yg)("inlineCode",{parentName:"td"},'["polling", "websocket"]')),(0,l.yg)("td",{parentName:"tr",align:null},"transports to allow connections to")),(0,l.yg)("tr",{parentName:"tbody"},(0,l.yg)("td",{parentName:"tr",align:null},(0,l.yg)("inlineCode",{parentName:"td"},"allowUpgrades")),(0,l.yg)("td",{parentName:"tr",align:null},(0,l.yg)("inlineCode",{parentName:"td"},"true")),(0,l.yg)("td",{parentName:"tr",align:null},"whether to allow transport upgrades")),(0,l.yg)("tr",{parentName:"tbody"},(0,l.yg)("td",{parentName:"tr",align:null},(0,l.yg)("inlineCode",{parentName:"td"},"perMessageDeflate")),(0,l.yg)("td",{parentName:"tr",align:null},(0,l.yg)("inlineCode",{parentName:"td"},"false")),(0,l.yg)("td",{parentName:"tr",align:null},"parameters of the WebSocket permessage-deflate extension (see ",(0,l.yg)("a",{parentName:"td",href:"https://github.com/einaros/ws"},"ws module")," api docs). Set to ",(0,l.yg)("inlineCode",{parentName:"td"},"true")," to enable.")),(0,l.yg)("tr",{parentName:"tbody"},(0,l.yg)("td",{parentName:"tr",align:null},(0,l.yg)("inlineCode",{parentName:"td"},"httpCompression")),(0,l.yg)("td",{parentName:"tr",align:null},(0,l.yg)("inlineCode",{parentName:"td"},"true")),(0,l.yg)("td",{parentName:"tr",align:null},"parameters of the http compression for the polling transports (see ",(0,l.yg)("a",{parentName:"td",href:"http://nodejs.org/api/zlib.html#zlib_options"},"zlib")," api docs). Set to ",(0,l.yg)("inlineCode",{parentName:"td"},"false")," to disable.")),(0,l.yg)("tr",{parentName:"tbody"},(0,l.yg)("td",{parentName:"tr",align:null},(0,l.yg)("inlineCode",{parentName:"td"},"wsEngine")),(0,l.yg)("td",{parentName:"tr",align:null},(0,l.yg)("inlineCode",{parentName:"td"},"ws")),(0,l.yg)("td",{parentName:"tr",align:null},"what WebSocket server implementation to use. Specified module must conform to the ",(0,l.yg)("inlineCode",{parentName:"td"},"ws")," interface (see ",(0,l.yg)("a",{parentName:"td",href:"https://github.com/websockets/ws/blob/master/doc/ws.md"},"ws module api docs"),"). Default value is ",(0,l.yg)("inlineCode",{parentName:"td"},"ws"),". An alternative c++ addon is also available by installing the ",(0,l.yg)("a",{parentName:"td",href:"https://www.npmjs.com/package/eiows"},"eiows")," module.")),(0,l.yg)("tr",{parentName:"tbody"},(0,l.yg)("td",{parentName:"tr",align:null},(0,l.yg)("inlineCode",{parentName:"td"},"cors")),(0,l.yg)("td",{parentName:"tr",align:null}),(0,l.yg)("td",{parentName:"tr",align:null},"the list of options that will be forwarded to the ",(0,l.yg)("a",{parentName:"td",href:"https://www.npmjs.com/package/cors"},"cors")," module")),(0,l.yg)("tr",{parentName:"tbody"},(0,l.yg)("td",{parentName:"tr",align:null},(0,l.yg)("inlineCode",{parentName:"td"},"cookie")),(0,l.yg)("td",{parentName:"tr",align:null}),(0,l.yg)("td",{parentName:"tr",align:null},"the list of options that will be forwarded to the ",(0,l.yg)("a",{parentName:"td",href:"https://github.com/jshttp/cookie/"},"cookie")," module")),(0,l.yg)("tr",{parentName:"tbody"},(0,l.yg)("td",{parentName:"tr",align:null},(0,l.yg)("inlineCode",{parentName:"td"},"allowEIO3")),(0,l.yg)("td",{parentName:"tr",align:null},(0,l.yg)("inlineCode",{parentName:"td"},"false")),(0,l.yg)("td",{parentName:"tr",align:null},"whether to enable compatibility with Socket.IO v2 clients")))),(0,l.yg)("p",null,"More information ",(0,l.yg)("a",{parentName:"p",href:"/docs/v3/server-initialization/"},"here"),"."),(0,l.yg)("h3",{id:"new-serverport-options"},"new Server(port","[, options]",")"),(0,l.yg)("ul",null,(0,l.yg)("li",{parentName:"ul"},(0,l.yg)("inlineCode",{parentName:"li"},"port")," ",(0,l.yg)("em",{parentName:"li"},"(Number)")," a port to listen to (a new ",(0,l.yg)("inlineCode",{parentName:"li"},"http.Server")," will be created)"),(0,l.yg)("li",{parentName:"ul"},(0,l.yg)("inlineCode",{parentName:"li"},"options")," ",(0,l.yg)("em",{parentName:"li"},"(Object)"))),(0,l.yg)("p",null,"See ",(0,l.yg)("a",{parentName:"p",href:"#new-Server-httpServer-options"},"above")," for the list of available ",(0,l.yg)("inlineCode",{parentName:"p"},"options"),"."),(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre",className:"language-js"},'const io = require("socket.io")(3000, {\n  path: "/test",\n  serveClient: false,\n  // below are engine.IO options\n  pingInterval: 10000,\n  pingTimeout: 5000,\n  cookie: false\n});\n')),(0,l.yg)("h3",{id:"new-serveroptions"},"new Server(options)"),(0,l.yg)("ul",null,(0,l.yg)("li",{parentName:"ul"},(0,l.yg)("inlineCode",{parentName:"li"},"options")," ",(0,l.yg)("em",{parentName:"li"},"(Object)"))),(0,l.yg)("p",null,"See ",(0,l.yg)("a",{parentName:"p",href:"#new-Server-httpServer-options"},"above")," for the list of available ",(0,l.yg)("inlineCode",{parentName:"p"},"options"),"."),(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre",className:"language-js"},'const io = require("socket.io")({\n  path: "/test",\n  serveClient: false,\n});\n\n// either\nconst server = require("http").createServer();\n\nio.attach(server, {\n  pingInterval: 10000,\n  pingTimeout: 5000,\n  cookie: false\n});\n\nserver.listen(3000);\n\n// or\nio.attach(3000, {\n  pingInterval: 10000,\n  pingTimeout: 5000,\n  cookie: false\n});\n')),(0,l.yg)("h3",{id:"serversockets"},"server.sockets"),(0,l.yg)("ul",null,(0,l.yg)("li",{parentName:"ul"},(0,l.yg)("em",{parentName:"li"},"(Namespace)"))),(0,l.yg)("p",null,"An alias for the default (",(0,l.yg)("inlineCode",{parentName:"p"},"/"),") namespace."),(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre",className:"language-js"},'io.sockets.emit("hi", "everyone");\n// is equivalent to\nio.of("/").emit("hi", "everyone");\n')),(0,l.yg)("h3",{id:"serverserveclientvalue"},"server.serveClient(","[value]",")"),(0,l.yg)("ul",null,(0,l.yg)("li",{parentName:"ul"},(0,l.yg)("inlineCode",{parentName:"li"},"value")," ",(0,l.yg)("em",{parentName:"li"},"(Boolean)")),(0,l.yg)("li",{parentName:"ul"},(0,l.yg)("strong",{parentName:"li"},"Returns")," ",(0,l.yg)("inlineCode",{parentName:"li"},"Server|Boolean"))),(0,l.yg)("p",null,"If ",(0,l.yg)("inlineCode",{parentName:"p"},"value")," is ",(0,l.yg)("inlineCode",{parentName:"p"},"true")," the attached server (see ",(0,l.yg)("inlineCode",{parentName:"p"},"Server#attach"),") will serve the client files. Defaults to ",(0,l.yg)("inlineCode",{parentName:"p"},"true"),". This method has no effect after ",(0,l.yg)("inlineCode",{parentName:"p"},"attach")," is called. If no arguments are supplied this method returns the current value."),(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre",className:"language-js"},'// pass a server and the `serveClient` option\nconst io = require("socket.io")(http, { serveClient: false });\n\n// or pass no server and then you can call the method\nconst io = require("socket.io")();\nio.serveClient(false);\nio.attach(http);\n')),(0,l.yg)("h3",{id:"serverpathvalue"},"server.path(","[value]",")"),(0,l.yg)("ul",null,(0,l.yg)("li",{parentName:"ul"},(0,l.yg)("inlineCode",{parentName:"li"},"value")," ",(0,l.yg)("em",{parentName:"li"},"(String)")),(0,l.yg)("li",{parentName:"ul"},(0,l.yg)("strong",{parentName:"li"},"Returns")," ",(0,l.yg)("inlineCode",{parentName:"li"},"Server|String"))),(0,l.yg)("p",null,"Sets the path ",(0,l.yg)("inlineCode",{parentName:"p"},"value")," under which ",(0,l.yg)("inlineCode",{parentName:"p"},"engine.io")," and the static files will be served. Defaults to ",(0,l.yg)("inlineCode",{parentName:"p"},"/socket.io"),". If no arguments are supplied this method returns the current value."),(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre",className:"language-js"},'const io = require("socket.io")();\nio.path("/myownpath");\n\n// client-side\nconst socket = io({\n  path: "/myownpath"\n});\n')),(0,l.yg)("h3",{id:"serveradaptervalue"},"server.adapter(","[value]",")"),(0,l.yg)("ul",null,(0,l.yg)("li",{parentName:"ul"},(0,l.yg)("inlineCode",{parentName:"li"},"value")," ",(0,l.yg)("em",{parentName:"li"},"(Adapter)")),(0,l.yg)("li",{parentName:"ul"},(0,l.yg)("strong",{parentName:"li"},"Returns")," ",(0,l.yg)("inlineCode",{parentName:"li"},"Server|Adapter"))),(0,l.yg)("p",null,"Sets the adapter ",(0,l.yg)("inlineCode",{parentName:"p"},"value"),". Defaults to an instance of the ",(0,l.yg)("inlineCode",{parentName:"p"},"Adapter")," that ships with socket.io which is memory based. See ",(0,l.yg)("a",{parentName:"p",href:"https://github.com/socketio/socket.io-adapter"},"socket.io-adapter"),". If no arguments are supplied this method returns the current value."),(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre",className:"language-js"},'const io = require("socket.io")(3000);\nconst redis = require("socket.io-redis");\nio.adapter(redis({ host: "localhost", port: 6379 }));\n')),(0,l.yg)("h3",{id:"serverattachhttpserver-options"},"server.attach(httpServer","[, options]",")"),(0,l.yg)("ul",null,(0,l.yg)("li",{parentName:"ul"},(0,l.yg)("inlineCode",{parentName:"li"},"httpServer")," ",(0,l.yg)("em",{parentName:"li"},"(http.Server)")," the server to attach to"),(0,l.yg)("li",{parentName:"ul"},(0,l.yg)("inlineCode",{parentName:"li"},"options")," ",(0,l.yg)("em",{parentName:"li"},"(Object)"))),(0,l.yg)("p",null,"Attaches the ",(0,l.yg)("inlineCode",{parentName:"p"},"Server")," to an engine.io instance on ",(0,l.yg)("inlineCode",{parentName:"p"},"httpServer")," with the supplied ",(0,l.yg)("inlineCode",{parentName:"p"},"options")," (optionally)."),(0,l.yg)("h3",{id:"serverattachport-options"},"server.attach(port","[, options]",")"),(0,l.yg)("ul",null,(0,l.yg)("li",{parentName:"ul"},(0,l.yg)("inlineCode",{parentName:"li"},"port")," ",(0,l.yg)("em",{parentName:"li"},"(Number)")," the port to listen on"),(0,l.yg)("li",{parentName:"ul"},(0,l.yg)("inlineCode",{parentName:"li"},"options")," ",(0,l.yg)("em",{parentName:"li"},"(Object)"))),(0,l.yg)("p",null,"Attaches the ",(0,l.yg)("inlineCode",{parentName:"p"},"Server")," to an engine.io instance on a new http.Server with the supplied ",(0,l.yg)("inlineCode",{parentName:"p"},"options")," (optionally)."),(0,l.yg)("h3",{id:"serverlistenhttpserver-options"},"server.listen(httpServer","[, options]",")"),(0,l.yg)("p",null,"Synonym of ",(0,l.yg)("a",{parentName:"p",href:"#server-attach-httpServer-options"},"server.attach(httpServer[, options])"),"."),(0,l.yg)("h3",{id:"serverlistenport-options"},"server.listen(port","[, options]",")"),(0,l.yg)("p",null,"Synonym of ",(0,l.yg)("a",{parentName:"p",href:"#server-attach-port-options"},"server.attach(port[, options])"),"."),(0,l.yg)("h3",{id:"serverbindengine"},"server.bind(engine)"),(0,l.yg)("ul",null,(0,l.yg)("li",{parentName:"ul"},(0,l.yg)("inlineCode",{parentName:"li"},"engine")," ",(0,l.yg)("em",{parentName:"li"},"(engine.Server)")),(0,l.yg)("li",{parentName:"ul"},(0,l.yg)("strong",{parentName:"li"},"Returns")," ",(0,l.yg)("inlineCode",{parentName:"li"},"Server"))),(0,l.yg)("p",null,"Advanced use only. Binds the server to a specific engine.io ",(0,l.yg)("inlineCode",{parentName:"p"},"Server")," (or compatible API) instance."),(0,l.yg)("h3",{id:"serveronconnectionsocket"},"server.onconnection(socket)"),(0,l.yg)("ul",null,(0,l.yg)("li",{parentName:"ul"},(0,l.yg)("inlineCode",{parentName:"li"},"socket")," ",(0,l.yg)("em",{parentName:"li"},"(engine.Socket)")),(0,l.yg)("li",{parentName:"ul"},(0,l.yg)("strong",{parentName:"li"},"Returns")," ",(0,l.yg)("inlineCode",{parentName:"li"},"Server"))),(0,l.yg)("p",null,"Advanced use only. Creates a new ",(0,l.yg)("inlineCode",{parentName:"p"},"socket.io")," client from the incoming engine.io (or compatible API) ",(0,l.yg)("inlineCode",{parentName:"p"},"Socket"),"."),(0,l.yg)("h3",{id:"serverofnsp"},"server.of(nsp)"),(0,l.yg)("ul",null,(0,l.yg)("li",{parentName:"ul"},(0,l.yg)("inlineCode",{parentName:"li"},"nsp")," ",(0,l.yg)("em",{parentName:"li"},"(String|RegExp|Function)")),(0,l.yg)("li",{parentName:"ul"},(0,l.yg)("strong",{parentName:"li"},"Returns")," ",(0,l.yg)("inlineCode",{parentName:"li"},"Namespace"))),(0,l.yg)("p",null,"Initializes and retrieves the given ",(0,l.yg)("inlineCode",{parentName:"p"},"Namespace")," by its pathname identifier ",(0,l.yg)("inlineCode",{parentName:"p"},"nsp"),". If the namespace was already initialized it returns it immediately."),(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre",className:"language-js"},'const adminNamespace = io.of("/admin");\n')),(0,l.yg)("p",null,"A regex or a function can also be provided, in order to create namespace in a dynamic way:"),(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre",className:"language-js"},'const dynamicNsp = io.of(/^\\/dynamic-\\d+$/).on("connection", (socket) => {\n  const newNamespace = socket.nsp; // newNamespace.name === "/dynamic-101"\n\n  // broadcast to all clients in the given sub-namespace\n  newNamespace.emit("hello");\n});\n\n// client-side\nconst socket = io("/dynamic-101");\n\n// broadcast to all clients in each sub-namespace\ndynamicNsp.emit("hello");\n\n// use a middleware for each sub-namespace\ndynamicNsp.use((socket, next) => { /* ... */ });\n')),(0,l.yg)("p",null,"With a function:"),(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre",className:"language-js"},'io.of((name, query, next) => {\n  // the checkToken method must return a boolean, indicating whether the client is able to connect or not.\n  next(null, checkToken(query.token));\n}).on("connection", (socket) => { /* ... */ });\n')),(0,l.yg)("h3",{id:"serverclosecallback"},"server.close(","[callback]",")"),(0,l.yg)("ul",null,(0,l.yg)("li",{parentName:"ul"},(0,l.yg)("inlineCode",{parentName:"li"},"callback")," ",(0,l.yg)("em",{parentName:"li"},"(Function)"))),(0,l.yg)("p",null,"Closes the Socket.IO server. The ",(0,l.yg)("inlineCode",{parentName:"p"},"callback")," argument is optional and will be called when all connections are closed."),(0,l.yg)("p",null,"Note: this also closes the underlying HTTP server."),(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre",className:"language-js"},'const Server = require("socket.io");\nconst PORT   = 3030;\nconst server = require("http").Server();\n\nconst io = Server(PORT);\n\nio.close(); // Close current server\n\nserver.listen(PORT); // PORT is free to use\n\nio = Server(server);\n')),(0,l.yg)("h3",{id:"serverenginegenerateid"},"server.engine.generateId"),(0,l.yg)("p",null,"Overwrites the default method to generate your custom socket id."),(0,l.yg)("p",null,"The function is called with a node request object (",(0,l.yg)("inlineCode",{parentName:"p"},"http.IncomingMessage"),") as first parameter."),(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre",className:"language-js"},'const uuid = require("uuid");\n\nio.engine.generateId = (req) => {\n  return uuid.v4(); // must be unique across all Socket.IO servers\n}\n')),(0,l.yg)("h2",{id:"namespace"},"Namespace"),(0,l.yg)("p",null,"Represents a pool of sockets connected under a given scope identified by a pathname (eg: ",(0,l.yg)("inlineCode",{parentName:"p"},"/chat"),")."),(0,l.yg)("p",null,"More information can be found ",(0,l.yg)("a",{parentName:"p",href:"/docs/v3/namespaces/"},"here"),"."),(0,l.yg)("h3",{id:"namespacename"},"namespace.name"),(0,l.yg)("ul",null,(0,l.yg)("li",{parentName:"ul"},(0,l.yg)("em",{parentName:"li"},"(String)"))),(0,l.yg)("p",null,"The namespace identifier property."),(0,l.yg)("h3",{id:"namespacesockets"},"namespace.sockets"),(0,l.yg)("ul",null,(0,l.yg)("li",{parentName:"ul"},(0,l.yg)("em",{parentName:"li"},"(Map<SocketId, Socket>)"))),(0,l.yg)("p",null,"A map of ",(0,l.yg)("a",{parentName:"p",href:"#Socket"},"Socket")," instances that are connected to this namespace."),(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre",className:"language-js"},'// number of sockets in this namespace (on this node)\nconst socketCount = io.of("/admin").sockets.size;\n')),(0,l.yg)("h3",{id:"namespaceadapter"},"namespace.adapter"),(0,l.yg)("ul",null,(0,l.yg)("li",{parentName:"ul"},(0,l.yg)("em",{parentName:"li"},"(Adapter)"))),(0,l.yg)("p",null,"The ",(0,l.yg)("a",{parentName:"p",href:"/docs/v3/glossary/#Adapter"},'"Adapter"')," used for the namespace. Useful when using the ",(0,l.yg)("inlineCode",{parentName:"p"},"Adapter")," based on ",(0,l.yg)("a",{parentName:"p",href:"https://github.com/socketio/socket.io-redis"},"Redis"),", as it exposes methods to manage sockets and rooms across your cluster."),(0,l.yg)("p",null,(0,l.yg)("strong",{parentName:"p"},"Note:")," the adapter of the main namespace can be accessed with ",(0,l.yg)("inlineCode",{parentName:"p"},'io.of("/").adapter'),"."),(0,l.yg)("p",null,"Please see the explanation ",(0,l.yg)("a",{parentName:"p",href:"/docs/v3/rooms/#Implementation-details"},"here"),"."),(0,l.yg)("h3",{id:"namespacetoroom"},"namespace.to(room)"),(0,l.yg)("ul",null,(0,l.yg)("li",{parentName:"ul"},(0,l.yg)("inlineCode",{parentName:"li"},"room")," ",(0,l.yg)("em",{parentName:"li"},"(String)")),(0,l.yg)("li",{parentName:"ul"},(0,l.yg)("strong",{parentName:"li"},"Returns")," ",(0,l.yg)("inlineCode",{parentName:"li"},"Namespace")," for chaining")),(0,l.yg)("p",null,"Sets a modifier for a subsequent event emission that the event will only be ",(0,l.yg)("em",{parentName:"p"},"broadcasted")," to clients that have joined the given ",(0,l.yg)("inlineCode",{parentName:"p"},"room"),"."),(0,l.yg)("p",null,"To emit to multiple rooms, you can call ",(0,l.yg)("inlineCode",{parentName:"p"},"to")," several times."),(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre",className:"language-js"},'const io = require("socket.io")();\nconst adminNamespace = io.of("/admin");\n\nadminNamespace.to("level1").emit("an event", { some: "data" });\n')),(0,l.yg)("h3",{id:"namespaceinroom"},"namespace.in(room)"),(0,l.yg)("p",null,"Synonym of ",(0,l.yg)("a",{parentName:"p",href:"#namespace-to-room"},"namespace.to(room)"),"."),(0,l.yg)("h3",{id:"namespaceemiteventname-args"},"namespace.emit(eventName","[, ...args]",")"),(0,l.yg)("ul",null,(0,l.yg)("li",{parentName:"ul"},(0,l.yg)("inlineCode",{parentName:"li"},"eventName")," ",(0,l.yg)("em",{parentName:"li"},"(String)")),(0,l.yg)("li",{parentName:"ul"},(0,l.yg)("inlineCode",{parentName:"li"},"args")),(0,l.yg)("li",{parentName:"ul"},(0,l.yg)("strong",{parentName:"li"},"Returns")," ",(0,l.yg)("inlineCode",{parentName:"li"},"true"))),(0,l.yg)("p",null,"Emits an event to all connected clients. The following two are equivalent:"),(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre",className:"language-js"},'const io = require("socket.io")();\nio.emit("an event sent to all connected clients"); // main namespace\n\nconst chat = io.of("/chat");\nchat.emit("an event sent to all connected clients in chat namespace");\n')),(0,l.yg)("p",null,(0,l.yg)("strong",{parentName:"p"},"Note:")," acknowledgements are not supported when emitting from namespace."),(0,l.yg)("h3",{id:"namespaceallsockets"},"namespace.allSockets()"),(0,l.yg)("ul",null,(0,l.yg)("li",{parentName:"ul"},(0,l.yg)("strong",{parentName:"li"},"Returns")," ",(0,l.yg)("inlineCode",{parentName:"li"},"Promise<Set<SocketId>>"))),(0,l.yg)("p",null,"Gets a list of socket IDs connected to this namespace (across all nodes if applicable)."),(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre",className:"language-js"},'// all sockets in the main namespace\nconst ids = await io.allSockets();\n\n// all sockets in the main namespace and in the "user:1234" room\nconst ids = await io.in("user:1234").allSockets();\n\n// all sockets in the "chat" namespace\nconst ids = await io.of("/chat").allSockets();\n\n// all sockets in the "chat" namespace and in the "general" room\nconst ids = await io.of("/chat").in("general").allSockets();\n')),(0,l.yg)("h3",{id:"namespaceusefn"},"namespace.use(fn)"),(0,l.yg)("ul",null,(0,l.yg)("li",{parentName:"ul"},(0,l.yg)("inlineCode",{parentName:"li"},"fn")," ",(0,l.yg)("em",{parentName:"li"},"(Function)"))),(0,l.yg)("p",null,"Registers a middleware, which is a function that gets executed for every incoming ",(0,l.yg)("inlineCode",{parentName:"p"},"Socket"),", and receives as parameters the socket and a function to optionally defer execution to the next registered middleware."),(0,l.yg)("p",null,"Errors passed to middleware callbacks are sent as special ",(0,l.yg)("inlineCode",{parentName:"p"},"connect_error")," packets to clients."),(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre",className:"language-js"},'// server-side\nio.use((socket, next) => {\n  const err = new Error("not authorized");\n  err.data = { content: "Please retry later" }; // additional details\n  next(err);\n});\n\n// client-side\nsocket.on("connect_error", err => {\n  console.log(err instanceof Error); // true\n  console.log(err.message); // not authorized\n  console.log(err.data); // { content: "Please retry later" }\n});\n')),(0,l.yg)("h3",{id:"event-connection"},"Event: 'connection'"),(0,l.yg)("ul",null,(0,l.yg)("li",{parentName:"ul"},(0,l.yg)("inlineCode",{parentName:"li"},"socket")," ",(0,l.yg)("em",{parentName:"li"},"(Socket)")," socket connection with client")),(0,l.yg)("p",null,"Fired upon a connection from client."),(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre",className:"language-js"},'io.on("connection", (socket) => {\n  // ...\n});\n\nio.of("/admin").on("connection", (socket) => {\n  // ...\n});\n')),(0,l.yg)("h3",{id:"event-connect"},"Event: 'connect'"),(0,l.yg)("p",null,"Synonym of ",(0,l.yg)("a",{parentName:"p",href:"#Event-%E2%80%98connection%E2%80%99"},'Event: "connection"'),"."),(0,l.yg)("h3",{id:"flag-volatile"},"Flag: 'volatile'"),(0,l.yg)("p",null,"Sets a modifier for a subsequent event emission that the event data may be lost if the clients are not ready to receive messages (because of network slowness or other issues, or because they\u2019re connected through long polling and is in the middle of a request-response cycle)."),(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre",className:"language-js"},'io.volatile.emit("an event", { some: "data" }); // the clients may or may not receive it\n')),(0,l.yg)("h3",{id:"flag-local"},"Flag: 'local'"),(0,l.yg)("p",null,"Sets a modifier for a subsequent event emission that the event data will only be ",(0,l.yg)("em",{parentName:"p"},"broadcast")," to the current node (when the ",(0,l.yg)("a",{parentName:"p",href:"https://github.com/socketio/socket.io-redis"},"Redis adapter")," is used)."),(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre",className:"language-js"},'io.local.emit("an event", { some: "data" });\n')),(0,l.yg)("h2",{id:"socket"},"Socket"),(0,l.yg)("p",null,"A ",(0,l.yg)("inlineCode",{parentName:"p"},"Socket")," is the fundamental class for interacting with browser clients. A ",(0,l.yg)("inlineCode",{parentName:"p"},"Socket")," belongs to a certain ",(0,l.yg)("inlineCode",{parentName:"p"},"Namespace")," (by default ",(0,l.yg)("inlineCode",{parentName:"p"},"/"),") and uses an underlying ",(0,l.yg)("inlineCode",{parentName:"p"},"Client")," to communicate."),(0,l.yg)("p",null,"It should be noted the ",(0,l.yg)("inlineCode",{parentName:"p"},"Socket")," doesn't relate directly to the actual underlying TCP/IP ",(0,l.yg)("inlineCode",{parentName:"p"},"socket")," and it is only the name of the class."),(0,l.yg)("p",null,"Within each ",(0,l.yg)("inlineCode",{parentName:"p"},"Namespace"),", you can also define arbitrary channels (called ",(0,l.yg)("inlineCode",{parentName:"p"},"room"),") that the ",(0,l.yg)("inlineCode",{parentName:"p"},"Socket")," can join and leave. That provides a convenient way to broadcast to a group of ",(0,l.yg)("inlineCode",{parentName:"p"},"Socket"),"s (see ",(0,l.yg)("inlineCode",{parentName:"p"},"Socket#to")," below)."),(0,l.yg)("p",null,"The ",(0,l.yg)("inlineCode",{parentName:"p"},"Socket")," class inherits from ",(0,l.yg)("a",{parentName:"p",href:"https://nodejs.org/api/events.html#events_class_eventemitter"},"EventEmitter"),". The ",(0,l.yg)("inlineCode",{parentName:"p"},"Socket")," class overrides the ",(0,l.yg)("inlineCode",{parentName:"p"},"emit")," method, and does not modify any other ",(0,l.yg)("inlineCode",{parentName:"p"},"EventEmitter")," method. All methods documented here which also appear as ",(0,l.yg)("inlineCode",{parentName:"p"},"EventEmitter")," methods (apart from ",(0,l.yg)("inlineCode",{parentName:"p"},"emit"),") are implemented by ",(0,l.yg)("inlineCode",{parentName:"p"},"EventEmitter"),", and documentation for ",(0,l.yg)("inlineCode",{parentName:"p"},"EventEmitter")," applies."),(0,l.yg)("p",null,"More information can be found ",(0,l.yg)("a",{parentName:"p",href:"/docs/v3/server-socket-instance/"},"here"),"."),(0,l.yg)("h3",{id:"socketid"},"socket.id"),(0,l.yg)("ul",null,(0,l.yg)("li",{parentName:"ul"},(0,l.yg)("em",{parentName:"li"},"(String)"))),(0,l.yg)("p",null,"A unique identifier for the session, that comes from the underlying ",(0,l.yg)("inlineCode",{parentName:"p"},"Client"),"."),(0,l.yg)("h3",{id:"socketrooms"},"socket.rooms"),(0,l.yg)("ul",null,(0,l.yg)("li",{parentName:"ul"},(0,l.yg)("em",{parentName:"li"},"(Set)"))),(0,l.yg)("p",null,"A Set of strings identifying the rooms this client is in."),(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre",className:"language-js"},'io.on("connection", (socket) => {\n\n  console.log(socket.rooms); // Set { <socket.id> }\n\n  socket.join("room1");\n\n  console.log(socket.rooms); // Set { <socket.id>, "room1" }\n\n});\n')),(0,l.yg)("h3",{id:"socketclient"},"socket.client"),(0,l.yg)("ul",null,(0,l.yg)("li",{parentName:"ul"},(0,l.yg)("em",{parentName:"li"},"(Client)"))),(0,l.yg)("p",null,"A reference to the underlying ",(0,l.yg)("inlineCode",{parentName:"p"},"Client")," object."),(0,l.yg)("h3",{id:"socketconn"},"socket.conn"),(0,l.yg)("ul",null,(0,l.yg)("li",{parentName:"ul"},(0,l.yg)("em",{parentName:"li"},"(engine.Socket)"))),(0,l.yg)("p",null,"A reference to the underlying ",(0,l.yg)("inlineCode",{parentName:"p"},"Client")," transport connection (engine.io ",(0,l.yg)("inlineCode",{parentName:"p"},"Socket")," object). This allows access to the IO transport layer, which still (mostly) abstracts the actual TCP/IP socket."),(0,l.yg)("h3",{id:"socketrequest"},"socket.request"),(0,l.yg)("ul",null,(0,l.yg)("li",{parentName:"ul"},(0,l.yg)("em",{parentName:"li"},"(Request)"))),(0,l.yg)("p",null,"A getter proxy that returns the reference to the ",(0,l.yg)("inlineCode",{parentName:"p"},"request")," that originated the underlying engine.io ",(0,l.yg)("inlineCode",{parentName:"p"},"Client"),". Useful for accessing request headers such as ",(0,l.yg)("inlineCode",{parentName:"p"},"Cookie")," or ",(0,l.yg)("inlineCode",{parentName:"p"},"User-Agent"),"."),(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre",className:"language-js"},'const cookie = require("cookie");\n\nio.on("connection", (socket) => {\n  const cookies = cookie.parse(socket.request.headers.cookie || "");\n});\n')),(0,l.yg)("h3",{id:"sockethandshake"},"socket.handshake"),(0,l.yg)("ul",null,(0,l.yg)("li",{parentName:"ul"},(0,l.yg)("em",{parentName:"li"},"(Object)"))),(0,l.yg)("p",null,"The handshake details:"),(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre",className:"language-js"},"{\n  headers: /* the headers sent as part of the handshake */,\n  time: /* the date of creation (as string) */,\n  address: /* the ip of the client */,\n  xdomain: /* whether the connection is cross-domain */,\n  secure: /* whether the connection is secure */,\n  issued: /* the date of creation (as unix timestamp) */,\n  url: /* the request URL string */,\n  query: /* the query params of the first request */,\n  auth: /* the authentication payload */\n}\n")),(0,l.yg)("p",null,"Usage:"),(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre",className:"language-js"},'io.use((socket, next) => {\n  let handshake = socket.handshake;\n  // ...\n});\n\nio.on("connection", (socket) => {\n  let handshake = socket.handshake;\n  // ...\n});\n')),(0,l.yg)("h3",{id:"socketusefn"},"socket.use(fn)"),(0,l.yg)("details",{class:"changelog"},(0,l.yg)("summary",null,"History"),(0,l.yg)("table",null,(0,l.yg)("thead",{parentName:"table"},(0,l.yg)("tr",{parentName:"thead"},(0,l.yg)("th",{parentName:"tr",align:null},"Version"),(0,l.yg)("th",{parentName:"tr",align:null},"Changes"))),(0,l.yg)("tbody",{parentName:"table"},(0,l.yg)("tr",{parentName:"tbody"},(0,l.yg)("td",{parentName:"tr",align:null},"v3.0.5"),(0,l.yg)("td",{parentName:"tr",align:null},"Restoration of the first implementation.")),(0,l.yg)("tr",{parentName:"tbody"},(0,l.yg)("td",{parentName:"tr",align:null},"v3.0.0"),(0,l.yg)("td",{parentName:"tr",align:null},"Removal in favor of ",(0,l.yg)("inlineCode",{parentName:"td"},"socket.onAny()"),".")),(0,l.yg)("tr",{parentName:"tbody"},(0,l.yg)("td",{parentName:"tr",align:null},"v1.7.2"),(0,l.yg)("td",{parentName:"tr",align:null},"The ",(0,l.yg)("inlineCode",{parentName:"td"},"error")," event is sent directly to the client.")),(0,l.yg)("tr",{parentName:"tbody"},(0,l.yg)("td",{parentName:"tr",align:null},"v1.6.0"),(0,l.yg)("td",{parentName:"tr",align:null},"First implementation."))))),(0,l.yg)("ul",null,(0,l.yg)("li",{parentName:"ul"},(0,l.yg)("inlineCode",{parentName:"li"},"fn")," ",(0,l.yg)("em",{parentName:"li"},"(Function)"))),(0,l.yg)("p",null,"Registers a middleware, which is a function that gets executed for every incoming ",(0,l.yg)("inlineCode",{parentName:"p"},"Packet")," and receives as parameter the packet and a function to optionally defer execution to the next registered middleware."),(0,l.yg)("p",null,"Errors passed to the middleware callback are then emitted as ",(0,l.yg)("inlineCode",{parentName:"p"},"error")," events on the server-side:"),(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre",className:"language-js"},'io.on("connection", (socket) => {\n  socket.use(([event, ...args], next) => {\n    if (isUnauthorized(event)) {\n      return next(new Error("unauthorized event"));\n    }\n    // do not forget to call next\n    next();\n  });\n\n  socket.on("error", (err) => {\n    if (err && err.message === "unauthorized event") {\n      socket.disconnect();\n    }\n  });\n});\n')),(0,l.yg)("h3",{id:"socketsendargs"},"socket.send(","[...args][, ack]",")"),(0,l.yg)("ul",null,(0,l.yg)("li",{parentName:"ul"},(0,l.yg)("inlineCode",{parentName:"li"},"args")),(0,l.yg)("li",{parentName:"ul"},(0,l.yg)("inlineCode",{parentName:"li"},"ack")," ",(0,l.yg)("em",{parentName:"li"},"(Function)")),(0,l.yg)("li",{parentName:"ul"},(0,l.yg)("strong",{parentName:"li"},"Returns")," ",(0,l.yg)("inlineCode",{parentName:"li"},"Socket"))),(0,l.yg)("p",null,"Sends a ",(0,l.yg)("inlineCode",{parentName:"p"},"message")," event. See ",(0,l.yg)("a",{parentName:"p",href:"#socketemiteventname-args-ack"},"socket.emit(eventName[, ...args][, ack])"),"."),(0,l.yg)("h3",{id:"socketemiteventname-args"},"socket.emit(eventName","[, ...args][, ack]",")"),(0,l.yg)("p",null,(0,l.yg)("em",{parentName:"p"},"(overrides ",(0,l.yg)("inlineCode",{parentName:"em"},"EventEmitter.emit"),")")),(0,l.yg)("ul",null,(0,l.yg)("li",{parentName:"ul"},(0,l.yg)("inlineCode",{parentName:"li"},"eventName")," ",(0,l.yg)("em",{parentName:"li"},"(String)")),(0,l.yg)("li",{parentName:"ul"},(0,l.yg)("inlineCode",{parentName:"li"},"args")),(0,l.yg)("li",{parentName:"ul"},(0,l.yg)("inlineCode",{parentName:"li"},"ack")," ",(0,l.yg)("em",{parentName:"li"},"(Function)")),(0,l.yg)("li",{parentName:"ul"},(0,l.yg)("strong",{parentName:"li"},"Returns")," ",(0,l.yg)("inlineCode",{parentName:"li"},"true"))),(0,l.yg)("p",null,"Emits an event to the socket identified by the string name. Any other parameters can be included. All serializable data structures are supported, including ",(0,l.yg)("inlineCode",{parentName:"p"},"Buffer"),"."),(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre",className:"language-js"},'socket.emit("hello", "world");\nsocket.emit("with-binary", 1, "2", { 3: "4", 5: Buffer.from([6]) });\n')),(0,l.yg)("p",null,"The ",(0,l.yg)("inlineCode",{parentName:"p"},"ack")," argument is optional and will be called with the client's answer."),(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre",className:"language-js"},'io.on("connection", (socket) => {\n  socket.emit("an event", { some: "data" });\n\n  socket.emit("ferret", "tobi", (data) => {\n    console.log(data); // data will be "woot"\n  });\n\n  // the client code\n  // client.on("ferret", (name, fn) => {\n  //   fn("woot");\n  // });\n\n});\n')),(0,l.yg)("h3",{id:"socketoneventname-callback"},"socket.on(eventName, callback)"),(0,l.yg)("p",null,(0,l.yg)("em",{parentName:"p"},"(inherited from ",(0,l.yg)("inlineCode",{parentName:"em"},"EventEmitter"),")")),(0,l.yg)("ul",null,(0,l.yg)("li",{parentName:"ul"},(0,l.yg)("inlineCode",{parentName:"li"},"eventName")," ",(0,l.yg)("em",{parentName:"li"},"(String)")),(0,l.yg)("li",{parentName:"ul"},(0,l.yg)("inlineCode",{parentName:"li"},"callback")," ",(0,l.yg)("em",{parentName:"li"},"(Function)")),(0,l.yg)("li",{parentName:"ul"},(0,l.yg)("strong",{parentName:"li"},"Returns")," ",(0,l.yg)("inlineCode",{parentName:"li"},"Socket"))),(0,l.yg)("p",null,"Register a new handler for the given event."),(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre",className:"language-js"},'socket.on("news", (data) => {\n  console.log(data);\n});\n// with several arguments\nsocket.on("news", (arg1, arg2, arg3) => {\n  // ...\n});\n// or with acknowledgement\nsocket.on("news", (data, callback) => {\n  callback(0);\n});\n')),(0,l.yg)("h3",{id:"socketonceeventname-listener"},"socket.once(eventName, listener)"),(0,l.yg)("h3",{id:"socketremovelistenereventname-listener"},"socket.removeListener(eventName, listener)"),(0,l.yg)("h3",{id:"socketremovealllistenerseventname"},"socket.removeAllListeners(","[eventName]",")"),(0,l.yg)("h3",{id:"socketeventnames"},"socket.eventNames()"),(0,l.yg)("p",null,"Inherited from ",(0,l.yg)("inlineCode",{parentName:"p"},"EventEmitter")," (along with other methods not mentioned here). See the Node.js documentation for the ",(0,l.yg)("a",{parentName:"p",href:"https://nodejs.org/docs/latest/api/events.html"},"events")," module."),(0,l.yg)("h3",{id:"socketonanycallback"},"socket.onAny(callback)"),(0,l.yg)("ul",null,(0,l.yg)("li",{parentName:"ul"},(0,l.yg)("inlineCode",{parentName:"li"},"callback")," ",(0,l.yg)("em",{parentName:"li"},"(Function)"))),(0,l.yg)("p",null,"Register a new catch-all listener."),(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre",className:"language-js"},"socket.onAny((event, ...args) => {\n  console.log(`got ${event}`);\n});\n")),(0,l.yg)("h3",{id:"socketprependanycallback"},"socket.prependAny(callback)"),(0,l.yg)("ul",null,(0,l.yg)("li",{parentName:"ul"},(0,l.yg)("inlineCode",{parentName:"li"},"callback")," ",(0,l.yg)("em",{parentName:"li"},"(Function)"))),(0,l.yg)("p",null,"Register a new catch-all listener. The listener is added to the beginning of the listeners array."),(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre",className:"language-js"},"socket.prependAny((event, ...args) => {\n  console.log(`got ${event}`);\n});\n")),(0,l.yg)("h3",{id:"socketoffanylistener"},"socket.offAny(","[listener]",")"),(0,l.yg)("ul",null,(0,l.yg)("li",{parentName:"ul"},(0,l.yg)("inlineCode",{parentName:"li"},"listener")," ",(0,l.yg)("em",{parentName:"li"},"(Function)"))),(0,l.yg)("p",null,"Removes the previously registered listener. If no listener is provided, all catch-all listeners are removed. "),(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre",className:"language-js"},"const myListener = () => { /* ... */ };\n\nsocket.onAny(myListener);\n\n// then, later\nsocket.offAny(myListener);\n\nsocket.offAny();\n")),(0,l.yg)("h3",{id:"socketlistenersany"},"socket.listenersAny()"),(0,l.yg)("ul",null,(0,l.yg)("li",{parentName:"ul"},(0,l.yg)("strong",{parentName:"li"},"Returns")," ",(0,l.yg)("inlineCode",{parentName:"li"},"Function[]"))),(0,l.yg)("p",null,"Returns the list of registered catch-all listeners."),(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre",className:"language-js"},"const listeners = socket.listenersAny();\n")),(0,l.yg)("h3",{id:"socketjoinroom"},"socket.join(room)"),(0,l.yg)("ul",null,(0,l.yg)("li",{parentName:"ul"},(0,l.yg)("inlineCode",{parentName:"li"},"room")," ",(0,l.yg)("em",{parentName:"li"},"(string)")," | ",(0,l.yg)("em",{parentName:"li"},"(string[])")),(0,l.yg)("li",{parentName:"ul"},(0,l.yg)("strong",{parentName:"li"},"Returns")," ",(0,l.yg)("inlineCode",{parentName:"li"},"void")," | ",(0,l.yg)("inlineCode",{parentName:"li"},"Promise"))),(0,l.yg)("p",null,"Adds the socket to the given ",(0,l.yg)("inlineCode",{parentName:"p"},"room")," or to the list of rooms."),(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre",className:"language-js"},'io.on("connection", (socket) => {\n  socket.join("room 237");\n  \n  console.log(socket.rooms); // Set { <socket.id>, "room 237" }\n\n  socket.join(["room 237", "room 238"]);\n\n  io.to("room 237").emit("a new user has joined the room"); // broadcast to everyone in the room\n});\n')),(0,l.yg)("p",null,"The mechanics of joining rooms are handled by the ",(0,l.yg)("inlineCode",{parentName:"p"},"Adapter")," that has been configured (see ",(0,l.yg)("inlineCode",{parentName:"p"},"Server#adapter")," above), defaulting to ",(0,l.yg)("a",{parentName:"p",href:"https://github.com/socketio/socket.io-adapter"},"socket.io-adapter"),"."),(0,l.yg)("p",null,"For your convenience, each socket automatically joins a room identified by its id (see ",(0,l.yg)("inlineCode",{parentName:"p"},"Socket#id"),"). This makes it easy to broadcast messages to other sockets:"),(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre",className:"language-js"},'io.on("connection", (socket) => {\n  socket.on("say to someone", (id, msg) => {\n    // send a private message to the socket with the given id\n    socket.to(id).emit("my message", msg);\n  });\n});\n')),(0,l.yg)("h3",{id:"socketleaveroom"},"socket.leave(room)"),(0,l.yg)("ul",null,(0,l.yg)("li",{parentName:"ul"},(0,l.yg)("inlineCode",{parentName:"li"},"room")," ",(0,l.yg)("em",{parentName:"li"},"(String)")),(0,l.yg)("li",{parentName:"ul"},(0,l.yg)("strong",{parentName:"li"},"Returns")," ",(0,l.yg)("inlineCode",{parentName:"li"},"void")," | ",(0,l.yg)("inlineCode",{parentName:"li"},"Promise"))),(0,l.yg)("p",null,"Removes the socket from the given ",(0,l.yg)("inlineCode",{parentName:"p"},"room"),"."),(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre",className:"language-js"},'io.on("connection", (socket) => {\n  socket.leave("room 237");\n\n  io.to("room 237").emit(`user ${socket.id} has left the room`);\n});\n')),(0,l.yg)("p",null,(0,l.yg)("strong",{parentName:"p"},"Rooms are left automatically upon disconnection"),"."),(0,l.yg)("h3",{id:"sockettoroom"},"socket.to(room)"),(0,l.yg)("ul",null,(0,l.yg)("li",{parentName:"ul"},(0,l.yg)("inlineCode",{parentName:"li"},"room")," ",(0,l.yg)("em",{parentName:"li"},"(String)")),(0,l.yg)("li",{parentName:"ul"},(0,l.yg)("strong",{parentName:"li"},"Returns")," ",(0,l.yg)("inlineCode",{parentName:"li"},"Socket")," for chaining")),(0,l.yg)("p",null,"Sets a modifier for a subsequent event emission that the event will only be ",(0,l.yg)("em",{parentName:"p"},"broadcasted")," to clients that have joined the given ",(0,l.yg)("inlineCode",{parentName:"p"},"room")," (the socket itself being excluded)."),(0,l.yg)("p",null,"To emit to multiple rooms, you can call ",(0,l.yg)("inlineCode",{parentName:"p"},"to")," several times."),(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre",className:"language-js"},'io.on("connection", (socket) => {\n\n  // to one room\n  socket.to("others").emit("an event", { some: "data" });\n\n  // to multiple rooms\n  socket.to("room1").to("room2").emit("hello");\n\n  // a private message to another socket\n  socket.to(/* another socket id */).emit("hey");\n\n  // WARNING: `socket.to(socket.id).emit()` will NOT work, as it will send to everyone in the room\n  // named `socket.id` but the sender. Please use the classic `socket.emit()` instead.\n});\n')),(0,l.yg)("p",null,(0,l.yg)("strong",{parentName:"p"},"Note:")," acknowledgements are not supported when broadcasting."),(0,l.yg)("h3",{id:"socketinroom"},"socket.in(room)"),(0,l.yg)("p",null,"Synonym of ",(0,l.yg)("a",{parentName:"p",href:"#socket-to-room"},"socket.to(room)"),"."),(0,l.yg)("h3",{id:"socketcompressvalue"},"socket.compress(value)"),(0,l.yg)("ul",null,(0,l.yg)("li",{parentName:"ul"},(0,l.yg)("inlineCode",{parentName:"li"},"value")," ",(0,l.yg)("em",{parentName:"li"},"(Boolean)")," whether to following packet will be compressed"),(0,l.yg)("li",{parentName:"ul"},(0,l.yg)("strong",{parentName:"li"},"Returns")," ",(0,l.yg)("inlineCode",{parentName:"li"},"Socket")," for chaining")),(0,l.yg)("p",null,"Sets a modifier for a subsequent event emission that the event data will only be ",(0,l.yg)("em",{parentName:"p"},"compressed")," if the value is ",(0,l.yg)("inlineCode",{parentName:"p"},"true"),". Defaults to ",(0,l.yg)("inlineCode",{parentName:"p"},"true")," when you don't call the method."),(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre",className:"language-js"},'io.on("connection", (socket) => {\n  socket.compress(false).emit("uncompressed", "that\'s rough");\n});\n')),(0,l.yg)("h3",{id:"socketdisconnectclose"},"socket.disconnect(close)"),(0,l.yg)("ul",null,(0,l.yg)("li",{parentName:"ul"},(0,l.yg)("inlineCode",{parentName:"li"},"close")," ",(0,l.yg)("em",{parentName:"li"},"(Boolean)")," whether to close the underlying connection"),(0,l.yg)("li",{parentName:"ul"},(0,l.yg)("strong",{parentName:"li"},"Returns")," ",(0,l.yg)("inlineCode",{parentName:"li"},"Socket"))),(0,l.yg)("p",null,"Disconnects this socket. If value of close is ",(0,l.yg)("inlineCode",{parentName:"p"},"true"),", closes the underlying connection. Otherwise, it just disconnects the namespace."),(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre",className:"language-js"},'io.on("connection", (socket) => {\n  setTimeout(() => socket.disconnect(true), 5000);\n});\n')),(0,l.yg)("h3",{id:"flag-broadcast"},"Flag: 'broadcast'"),(0,l.yg)("p",null,"Sets a modifier for a subsequent event emission that the event data will only be ",(0,l.yg)("em",{parentName:"p"},"broadcast")," to every sockets but the sender."),(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre",className:"language-js"},'io.on("connection", (socket) => {\n  socket.broadcast.emit("an event", { some: "data" }); // everyone gets it but the sender\n});\n')),(0,l.yg)("h3",{id:"flag-volatile-1"},"Flag: 'volatile'"),(0,l.yg)("p",null,"Sets a modifier for a subsequent event emission that the event data may be lost if the client is not ready to receive messages (because of network slowness or other issues, or because they\u2019re connected through long polling and is in the middle of a request-response cycle)."),(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre",className:"language-js"},'io.on("connection", (socket) => {\n  socket.volatile.emit("an event", { some: "data" }); // the client may or may not receive it\n});\n')),(0,l.yg)("h3",{id:"event-disconnect"},"Event: 'disconnect'"),(0,l.yg)("ul",null,(0,l.yg)("li",{parentName:"ul"},(0,l.yg)("inlineCode",{parentName:"li"},"reason")," ",(0,l.yg)("em",{parentName:"li"},"(String)")," the reason of the disconnection (either client or server-side)")),(0,l.yg)("p",null,"Fired upon disconnection."),(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre",className:"language-js"},'io.on("connection", (socket) => {\n  socket.on("disconnect", (reason) => {\n    // ...\n  });\n});\n')),(0,l.yg)("p",null,"Possible reasons:"),(0,l.yg)("table",null,(0,l.yg)("thead",{parentName:"table"},(0,l.yg)("tr",{parentName:"thead"},(0,l.yg)("th",{parentName:"tr",align:null},"Reason"),(0,l.yg)("th",{parentName:"tr",align:null},"Description"))),(0,l.yg)("tbody",{parentName:"table"},(0,l.yg)("tr",{parentName:"tbody"},(0,l.yg)("td",{parentName:"tr",align:null},(0,l.yg)("inlineCode",{parentName:"td"},"server namespace disconnect")),(0,l.yg)("td",{parentName:"tr",align:null},"The socket was forcefully disconnected with ",(0,l.yg)("a",{parentName:"td",href:"/docs/v3/server-api/#socket-disconnect-close"},"socket.disconnect()"))),(0,l.yg)("tr",{parentName:"tbody"},(0,l.yg)("td",{parentName:"tr",align:null},(0,l.yg)("inlineCode",{parentName:"td"},"client namespace disconnect")),(0,l.yg)("td",{parentName:"tr",align:null},"The client has manually disconnected the socket using ",(0,l.yg)("a",{parentName:"td",href:"/docs/v3/client-api/#socket-disconnect"},"socket.disconnect()"))),(0,l.yg)("tr",{parentName:"tbody"},(0,l.yg)("td",{parentName:"tr",align:null},(0,l.yg)("inlineCode",{parentName:"td"},"server shutting down")),(0,l.yg)("td",{parentName:"tr",align:null},"The server is, well, shutting down")),(0,l.yg)("tr",{parentName:"tbody"},(0,l.yg)("td",{parentName:"tr",align:null},(0,l.yg)("inlineCode",{parentName:"td"},"ping timeout")),(0,l.yg)("td",{parentName:"tr",align:null},"The client did not send a PONG packet in the ",(0,l.yg)("inlineCode",{parentName:"td"},"pingTimeout")," delay")),(0,l.yg)("tr",{parentName:"tbody"},(0,l.yg)("td",{parentName:"tr",align:null},(0,l.yg)("inlineCode",{parentName:"td"},"transport close")),(0,l.yg)("td",{parentName:"tr",align:null},"The connection was closed (example: the user has lost connection, or the network was changed from WiFi to 4G)")),(0,l.yg)("tr",{parentName:"tbody"},(0,l.yg)("td",{parentName:"tr",align:null},(0,l.yg)("inlineCode",{parentName:"td"},"transport error")),(0,l.yg)("td",{parentName:"tr",align:null},"The connection has encountered an error")))),(0,l.yg)("h3",{id:"event-disconnecting"},"Event: 'disconnecting'"),(0,l.yg)("ul",null,(0,l.yg)("li",{parentName:"ul"},(0,l.yg)("inlineCode",{parentName:"li"},"reason")," ",(0,l.yg)("em",{parentName:"li"},"(String)")," the reason of the disconnection (either client or server-side)")),(0,l.yg)("p",null,"Fired when the client is going to be disconnected (but hasn't left its ",(0,l.yg)("inlineCode",{parentName:"p"},"rooms")," yet)."),(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre",className:"language-js"},'io.on("connection", (socket) => {\n  socket.on("disconnecting", (reason) => {\n    console.log(socket.rooms); // Set { ... }\n  });\n});\n')),(0,l.yg)("p",null,"Note: those events, along with ",(0,l.yg)("inlineCode",{parentName:"p"},"connect"),", ",(0,l.yg)("inlineCode",{parentName:"p"},"connect_error"),", ",(0,l.yg)("inlineCode",{parentName:"p"},"newListener")," and ",(0,l.yg)("inlineCode",{parentName:"p"},"removeListener"),", are special events that shouldn't be used in your application:"),(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre",className:"language-js"},'// BAD, will throw an error\nsocket.emit("disconnect");\n')),(0,l.yg)("h2",{id:"client"},"Client"),(0,l.yg)("p",null,"The ",(0,l.yg)("inlineCode",{parentName:"p"},"Client")," class represents an incoming transport (engine.io) connection. A ",(0,l.yg)("inlineCode",{parentName:"p"},"Client")," can be associated with many multiplexed ",(0,l.yg)("inlineCode",{parentName:"p"},"Socket"),"s that belong to different ",(0,l.yg)("inlineCode",{parentName:"p"},"Namespace"),"s."),(0,l.yg)("h3",{id:"clientconn"},"client.conn"),(0,l.yg)("ul",null,(0,l.yg)("li",{parentName:"ul"},(0,l.yg)("em",{parentName:"li"},"(engine.Socket)"))),(0,l.yg)("p",null,"A reference to the underlying ",(0,l.yg)("inlineCode",{parentName:"p"},"engine.io")," ",(0,l.yg)("inlineCode",{parentName:"p"},"Socket")," connection."),(0,l.yg)("h3",{id:"clientrequest"},"client.request"),(0,l.yg)("ul",null,(0,l.yg)("li",{parentName:"ul"},(0,l.yg)("em",{parentName:"li"},"(Request)"))),(0,l.yg)("p",null,"A getter proxy that returns the reference to the ",(0,l.yg)("inlineCode",{parentName:"p"},"request")," that originated the engine.io connection. Useful for accessing request headers such as ",(0,l.yg)("inlineCode",{parentName:"p"},"Cookie")," or ",(0,l.yg)("inlineCode",{parentName:"p"},"User-Agent"),"."))}m.isMDXComponent=!0}}]);