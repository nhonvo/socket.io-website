"use strict";(self.webpackChunksample_website=self.webpackChunksample_website||[]).push([[1756],{5680:(e,t,a)=>{a.d(t,{xA:()=>p,yg:()=>h});var n=a(6540);function o(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function i(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function r(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(Object(a),!0).forEach((function(t){o(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function l(e,t){if(null==e)return{};var a,n,o=function(e,t){if(null==e)return{};var a,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(o[a]=e[a]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(o[a]=e[a])}return o}var s=n.createContext({}),c=function(e){var t=n.useContext(s),a=t;return e&&(a="function"==typeof e?e(t):r(r({},t),e)),a},p=function(e){var t=c(e.components);return n.createElement(s.Provider,{value:t},e.children)},u="mdxType",g={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},m=n.forwardRef((function(e,t){var a=e.components,o=e.mdxType,i=e.originalType,s=e.parentName,p=l(e,["components","mdxType","originalType","parentName"]),u=c(a),m=o,h=u["".concat(s,".").concat(m)]||u[m]||g[m]||i;return a?n.createElement(h,r(r({ref:t},p),{},{components:a})):n.createElement(h,r({ref:t},p))}));function h(e,t){var a=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var i=a.length,r=new Array(i);r[0]=m;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l[u]="string"==typeof e?e:o,r[1]=l;for(var c=2;c<i;c++)r[c]=a[c];return n.createElement.apply(null,r)}return n.createElement.apply(null,a)}m.displayName="MDXCreateElement"},1325:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>s,contentTitle:()=>r,default:()=>g,frontMatter:()=>i,metadata:()=>l,toc:()=>c});var n=a(8168),o=(a(6540),a(5680));const i={title:"Socket.IO 3 Release",slug:"/socket-io-3-release/",authors:"darrachequesne"},r=void 0,l={permalink:"/blog/socket-io-3-release/",editUrl:"https://github.com/socketio/socket.io-website/edit/main/blog/2020-11-05-socket-io-3.md",source:"@site/blog/2020-11-05-socket-io-3.md",title:"Socket.IO 3 Release",description:"We are happy to announce the release of Socket.IO v3!",date:"2020-11-05T00:00:00.000Z",formattedDate:"November 5, 2020",tags:[],readingTime:2.085,hasTruncateMarker:!0,authors:[{name:"Damien Arrachequesne",title:"Maintainer of Socket.IO",url:"https://github.com/darrachequesne",imageURL:"https://github.com/darrachequesne.png",key:"darrachequesne"}],frontMatter:{title:"Socket.IO 3 Release",slug:"/socket-io-3-release/",authors:"darrachequesne"},prevItem:{title:"Redis Adapter v6.0.0",permalink:"/blog/socket-io-redis-adapter-6-release/"},nextItem:{title:"Monthly update #1",permalink:"/blog/monthly-update-1/"}},s={authorsImageUrls:[void 0]},c=[{value:"Migration guide",id:"migration-guide",level:2},{value:"Why Socket.IO in 2020?",id:"why-socketio-in-2020",level:2},{value:"What&#39;s next",id:"whats-next",level:2},{value:"Let&#39;s discuss!",id:"lets-discuss",level:2}],p={toc:c},u="wrapper";function g(e){let{components:t,...a}=e;return(0,o.yg)(u,(0,n.A)({},p,a,{components:t,mdxType:"MDXLayout"}),(0,o.yg)("p",null,"We are happy to announce the release of Socket.IO v3!"),(0,o.yg)("h2",{id:"migration-guide"},"Migration guide"),(0,o.yg)("p",null,"This release contains a few non backward compatible changes."),(0,o.yg)("p",null,"We have published a dedicated ",(0,o.yg)("a",{parentName:"p",href:"/docs/v4/migrating-from-2-x-to-3-0/"},"migration guide")," with all necessary details."),(0,o.yg)("h2",{id:"why-socketio-in-2020"},"Why Socket.IO in 2020?"),(0,o.yg)("p",null,"That's an excellent question actually. Depending on your use case, it might make sense to use plain WebSocket directly:"),(0,o.yg)("ul",null,(0,o.yg)("li",{parentName:"ul"},"client: ",(0,o.yg)("a",{parentName:"li",href:"https://developer.mozilla.org/en-US/docs/Web/API/WebSocket"},"MDN"),", ",(0,o.yg)("a",{parentName:"li",href:"https://caniuse.com/websockets"},"Can I use?")),(0,o.yg)("li",{parentName:"ul"},"server: ",(0,o.yg)("a",{parentName:"li",href:"https://github.com/websockets/ws"},"ws")," or ",(0,o.yg)("a",{parentName:"li",href:"https://github.com/mmdevries/eiows"},"eiows")," in the Node.JS ecosystem")),(0,o.yg)("p",null,"What Socket.IO brings:"),(0,o.yg)("ul",null,(0,o.yg)("li",{parentName:"ul"},"a fallback to HTTP long-polling, in case the WebSocket connection cannot be established")),(0,o.yg)("p",null,"To be honest, this feature was awesome 10 years ago, when most browsers didn't support WebSocket, but this is not the case anymore. That's still a great safety net though."),(0,o.yg)("ul",null,(0,o.yg)("li",{parentName:"ul"},"auto-reconnection")),(0,o.yg)("p",null,"Using plain WebSocket, you can take a look at ",(0,o.yg)("a",{parentName:"p",href:"https://github.com/appuri/robust-websocket"},"robust-websocket"),"."),(0,o.yg)("ul",null,(0,o.yg)("li",{parentName:"ul"},"a classic request-response API: acknowledgements")),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-js"},'// on one side\nsocket.emit("updateitem", "1", { name: "updated" }, (response) => {\n  console.log(response.status); // ok\n});\n// on the other\nsocket.on("updateitem", (arg1, arg2, callback) => {\n  console.log(arg1); // 1\n  console.log(arg2); // { name: "updated" }\n  callback({\n    status: "ok"\n  });\n});\n')),(0,o.yg)("ul",null,(0,o.yg)("li",{parentName:"ul"},"a way to broadcast data to a given set of clients: ",(0,o.yg)("a",{parentName:"li",href:"/docs/v4/rooms/"},"Rooms"))),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-js"},'// server-side\nio.on("connection", (socket) => {\n  socket.join("room1");\n\n  io.to("room1").emit("hello!");\n});\n')),(0,o.yg)("p",null,"Which also works when scaling to several Socket.IO servers (more information ",(0,o.yg)("a",{parentName:"p",href:"/docs/v4/using-multiple-nodes/"},"here"),")."),(0,o.yg)("ul",null,(0,o.yg)("li",{parentName:"ul"},"a way to split your application logic into distinct modules (for more complex applications): ",(0,o.yg)("a",{parentName:"li",href:"/docs/v4/namespaces/"},"Namespaces"))),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-js"},'// server-side\nconst adminNamespace = io.of("/admin");\n\nadminNamespace.use((socket, next) => {\n  // ensure the socket is authorized\n});\n\nadminNamespace.on((socket) => {\n  socket.on("delete project", (id) => {\n    // in all handlers, we are sure that the socket is authorized\n  });\n});\n\nadminNamespace.emit("hello!"); // broadcast to admin only\n')),(0,o.yg)("ul",null,(0,o.yg)("li",{parentName:"ul"},(0,o.yg)("p",{parentName:"li"},"an ecosystem of compatible clients in other languages"),(0,o.yg)("ul",{parentName:"li"},(0,o.yg)("li",{parentName:"ul"},"Java: ",(0,o.yg)("a",{parentName:"li",href:"https://github.com/socketio/socket.io-client-java"},"https://github.com/socketio/socket.io-client-java")),(0,o.yg)("li",{parentName:"ul"},"C++: ",(0,o.yg)("a",{parentName:"li",href:"https://github.com/socketio/socket.io-client-cpp"},"https://github.com/socketio/socket.io-client-cpp")),(0,o.yg)("li",{parentName:"ul"},"Swift: ",(0,o.yg)("a",{parentName:"li",href:"https://github.com/socketio/socket.io-client-swift"},"https://github.com/socketio/socket.io-client-swift")),(0,o.yg)("li",{parentName:"ul"},"Dart: ",(0,o.yg)("a",{parentName:"li",href:"https://github.com/rikulo/socket.io-client-dart"},"https://github.com/rikulo/socket.io-client-dart")),(0,o.yg)("li",{parentName:"ul"},"Python: ",(0,o.yg)("a",{parentName:"li",href:"https://github.com/miguelgrinberg/python-socketio"},"https://github.com/miguelgrinberg/python-socketio")),(0,o.yg)("li",{parentName:"ul"},".Net: ",(0,o.yg)("a",{parentName:"li",href:"https://github.com/Quobject/SocketIoClientDotNet"},"https://github.com/Quobject/SocketIoClientDotNet"))))),(0,o.yg)("h2",{id:"whats-next"},"What's next"),(0,o.yg)("ul",null,(0,o.yg)("li",{parentName:"ul"},(0,o.yg)("p",{parentName:"li"},"the Redis adapter (used when broadcasting across Socket.IO servers) will be updated in order to be compatible with Socket.IO v3 (update: ",(0,o.yg)("a",{parentName:"p",href:"/blog/socket-io-redis-adapter-6-release/"},"done!"),")")),(0,o.yg)("li",{parentName:"ul"},(0,o.yg)("p",{parentName:"li"},"the client implementations in other languages will be updated as well"),(0,o.yg)("ul",{parentName:"li"},(0,o.yg)("li",{parentName:"ul"},"Java client: ",(0,o.yg)("a",{parentName:"li",href:"https://github.com/socketio/socket.io-client-java/releases/tag/socket.io-client-2.0.0"},"done!")),(0,o.yg)("li",{parentName:"ul"},"C++ client: ",(0,o.yg)("a",{parentName:"li",href:"https://github.com/socketio/socket.io-client-cpp/releases/tag/3.0.0"},"done!")),(0,o.yg)("li",{parentName:"ul"},"Swift: ",(0,o.yg)("a",{parentName:"li",href:"https://github.com/socketio/socket.io-client-swift/releases/tag/v16.0.0"},"done!")))),(0,o.yg)("li",{parentName:"ul"},(0,o.yg)("p",{parentName:"li"},"a big focus on the documentation (additional code examples, extended guide, ...)")),(0,o.yg)("li",{parentName:"ul"},(0,o.yg)("p",{parentName:"li"},"additional tooling around Socket.IO"))),(0,o.yg)("h2",{id:"lets-discuss"},"Let's discuss!"),(0,o.yg)("p",null,"The project is now part of the beta of Github Discussions. Depending on the feedback of the community, it might replace the Slack channel in the future."),(0,o.yg)("p",null,"If you have any question about the release, let's discuss ",(0,o.yg)("a",{parentName:"p",href:"https://github.com/socketio/socket.io/discussions/3674"},"here"),"."),(0,o.yg)("p",null,"Stay safe!"))}g.isMDXComponent=!0}}]);